(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e){e.exports=JSON.parse('{"draw_polygon":"Select the edges of the polygon you wish to create. Finish by clicking on the initial edge, closing the polygon.","buffer":"Select one or more layers, then press \\"Buffer\\". It will ask how large buffer you want, supply this quantity in meters. Click on the checkmark to calculate. ","union":"Select two or more layers, then press union. The output will be one layer, consisting of the union of the selected layers.","dissolve":"Select one layer, then press dissolve. The output will be the input features combined into one multifeature.","split":"Select one or more layers, then press split. The output will be each of the selected features as a layer. Will NOT split a dissolved layer.","intersection":"Select two layers, then press intersection. The output will be the overlapping areas of the two layers.","bbox":"Select one or more layers, then press bbox. The output will be a layer containing the minimal bounding boxes for all features in selected layers.","symmetric_difference":"Select two layers, then press symmetric difference. The output will be a layer containing all non-overlapping areas between the layers."}')},137:function(e,t,n){var a={"./control_panel.png":138,"./polygon.png":139};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=137},138:function(e,t){e.exports="data:image/png;base64,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"},139:function(e,t,n){e.exports=n.p+"static/media/polygon.2db8fea9.png"},140:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),l=n.n(o),i=n(39),c=n(22),u=n(23),s=n(14),d=n(49),f=n(78),m=n(91),h=n(80),g=n.n(h),y={flex:1,display:"flex",flexDirection:"row",alignItems:"center",padding:"20px",paddingLeft:"20px",paddingRight:"20px",borderWidth:2,borderRadius:4,borderColor:"black",borderStyle:"solid",backgroundColor:"#43a047",color:"white",outline:"none",justifyContent:"space-around",fontSize:"18px"},b={backgroundColor:"#3a3a3a",color:"white"},p={borderColor:"white"},v={borderColor:"white",borderStyle:"solid"};var E=function(e){var t=e.addLayersToState,n=e.layers,o=e.enqueueSnackbar,l=Object(a.useCallback)((function(e){var n,a=[],r=Object(f.a)(e);try{var l=function(){var e=n.value,t=new Promise((function(t){var n=new FileReader;n.readAsText(e),n.onload=function(){return t(JSON.parse(n.result))}}));a.push(t)};for(r.s();!(n=r.n()).done;)l()}catch(i){r.e(i)}finally{r.f()}Promise.all(a).then((function(e){t(e,"upload"),o("Successfully added layers to state",{variant:"success"})}))}),[n]),i=Object(a.useCallback)((function(e){o("Error adding selected layers, try a valid geojson- or json-file",{variant:"error"})}),[n]),u=Object(m.a)({accept:[".json",".geojson"],onDropAccepted:l,onDropRejected:i}),s=u.getRootProps,d=u.getInputProps,h=u.isDragActive,E=u.isDragAccept,A=u.isDragReject,w=Object(a.useMemo)((function(){return Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},y),h?b:{}),E?p:{}),A?v:{})}),[h,A,E]);return r.a.createElement("div",s({style:w}),r.a.createElement("input",d()),"Upload Layers",r.a.createElement(g.a,null))},A=n(184),w=n(194),j=n(177),O=n(178),x=n(179),C=n(180),k=n(181),D=n(182),S=function(e){var t=e.value,n=e.handleChange;return r.a.createElement("input",{type:"text",value:t,onChange:n})},T=function(e){var t=e.layer,n=e.removeLayerFromState,o=e.handleMetaChange,l=Object(a.useState)(!1),i=Object(s.a)(l,2),c=i[0],u=i[1],d=Object(a.useState)(t.name),f=Object(s.a)(d,2),m=f[0],h=f[1];return r.a.createElement("div",{key:t.id,className:t.selected?"layer-item-selected":"layer-item"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{disableGutters:!0},r.a.createElement(S,{value:m,handleChange:function(e){h(e.target.value)}})),r.a.createElement(j.a,{onClick:function(){h(t.name),u(!1)}}),r.a.createElement(O.a,{onClick:function(){u(!1),o(t.id,"name",m)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{disableGutters:!0,onClick:function(){o(t.id,"selected",!t.selected)}},t.name),"none"!==t.visibility?r.a.createElement(x.a,{onClick:function(){return o(t.id,"visibility","none")}}):r.a.createElement(C.a,{onClick:function(){return o(t.id,"visibility","visible")}}),r.a.createElement(k.a,{onClick:function(){return u(!0)}}),r.a.createElement(D.a,{onClick:function(){return n(t.id)}})))},R=function(e){var t=e.layers,n=e.removeLayerFromState,a=e.selectedLayersIndices,o=e.handleSelectedChange,l=e.handleMetaChange;return r.a.createElement("div",null,t&&t.map((function(e){return r.a.createElement(T,{key:e.id,layer:e,removeLayerFromState:n,selectedLayersIndices:a,handleSelectedChange:o,handleMetaChange:l})})))},F=n(84),U=n.n(F),q=n(83),G=n.n(q),H=n(56),I=n.n(H),L="https://tba4251-api.herokuapp.com/api/";function Z(e,t){return function(n,a,r){var o=function(e){var t=[];return e.forEach((function(e){t=[].concat(Object(u.a)(e.features),Object(u.a)(t))})),{type:"FeatureCollection",features:t}}(n);return r&&(o.value=r),function(){I.a.post(L+a,o).then((function(n){"symmetric_difference"===a&&(a="sym_diff"),t([n.data],a),e("Successfully computed "+a,{variant:"success"})})).catch((function(t){e("Failed to execute  "+a+" "+t,{variant:"error"})}))}}}function P(e,t){return function(){var n=[];console.log(t),t[0].features.forEach((function(e){var t={type:"FeatureCollection",features:[e]};n=n.concat(t)})),e(n,"split")}}var V=n(176),N=n(192),Y=n(50),Q=n(82),B=n.n(Q),M=function(e){var t=e.value,n=e.handleChange;return r.a.createElement("input",{type:"text",value:t,onChange:n})},J=n(5),K=n(193),W=Object(J.a)({tooltip:{fontSize:"13px"}})(K.a),X=function(e){var t=e.onClick,n=e.name,o=e.icon,l=e.selectable,i=e.enabled,c=e.popoverText,u=Object(a.useState)(!1),d=Object(s.a)(u,2),f=d[0],m=d[1],h=Object(a.useState)(10),g=Object(s.a)(h,2),y=g[0],b=g[1],p=Object(V.a)((function(e){return{typography:{padding:e.spacing(2),width:200,fontSize:"13px"}}})),v=function(){return i?m(!f):null},E=function(e){i&&(t(e),v())},A=p(),x=r.a.useState(null),C=Object(s.a)(x,2),k=C[0],D=C[1];var S=Boolean(k),T=S?"simple-popover":null;return r.a.createElement(r.a.Fragment,null,f?r.a.createElement("div",{className:"operation"},r.a.createElement(W,{title:"Enter buffer [m]"},r.a.createElement(w.a,{disableGutters:!0},r.a.createElement(M,{value:y,handleChange:function(e){return b(e.target.value)}}))),r.a.createElement(j.a,{onClick:v}),r.a.createElement(O.a,{onClick:function(){return E(y)}})):r.a.createElement("div",{className:"operationdiv"},r.a.createElement(w.a,{onClick:l?v:function(){return i?t():null},className:i?"operation":"disabledOperation",disableGutters:!0},n),o||r.a.createElement(B.a,{onClick:function(e){D(e.currentTarget)}})),r.a.createElement(N.a,{id:T,open:S,anchorEl:k,onClose:function(){D(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Y.a,{className:A.typography},c)))},z=n(124),_=function(e){var t=e.children;return r.a.createElement("div",{className:"headLine"},t)},$=function(e){var t=e.addLayersToState,n=e.removeLayersFromState,o=e.removeLayerFromState,l=e.layers,i=e.handleMetaChange,c=e.setDraw,u=l.filter((function(e){return e.selected})),s=Object(d.b)().enqueueSnackbar,f=Z(s,t);return Object(a.useEffect)((function(){!function(e){I.a.get(L+"ping").then((function(t){e("Successfully connected with backend",{variant:"success"})})).catch((function(t){e("Failed to connect with backend",{variant:"success"})}))}(s)}),[]),r.a.createElement("div",{className:"sidebar"},r.a.createElement(A.a,{disablePadding:!0},r.a.createElement(_,null,r.a.createElement(w.a,{disableGutters:!0},"Control Panel")),r.a.createElement(X,{onClick:function(){c((function(e){return e.changeMode("draw_polygon")}))},name:"Draw Polygon",enabled:!0,popoverText:z.draw_polygon}),r.a.createElement(X,{name:"Buffer",onClick:function(e){f(u,"buffer",e)()},selectable:!0,enabled:u.length>=1,popoverText:z.buffer}),r.a.createElement(X,{name:"Union",onClick:f(u,"union"),enabled:u.length>=2,popoverText:z.union}),r.a.createElement(X,{name:"Dissolve",onClick:f(u,"dissolve"),enabled:1===u.length,popoverText:z.dissolve}),r.a.createElement(X,{onClick:P(t,u),name:"Split",enabled:u.length>=1,popoverText:z.split}),r.a.createElement(X,{onClick:f(u,"intersection"),name:"Intersection",enabled:2===u.length,popoverText:z.intersection}),r.a.createElement(X,{onClick:f(u,"bbox"),name:"Bounding Box",enabled:u.length>=1,popoverText:z.bbox}),r.a.createElement(X,{onClick:f(u,"symmetric_difference"),name:"Symmetric Difference",enabled:2===u.length,popoverText:z.symmetric_difference}),r.a.createElement(X,{onClick:n,name:"Remove All Layers",icon:r.a.createElement(G.a,null),enabled:l.length>0}),r.a.createElement(w.a,{disableGutters:!0},r.a.createElement(E,{accept:"*.json",addLayersToState:t,layers:l,enqueueSnackbar:s})),r.a.createElement(_,null,r.a.createElement(w.a,{disableGutters:!0},"Layers"),r.a.createElement(U.a,null)),r.a.createElement(R,{layers:l,removeLayerFromState:o,handleMetaChange:i})))},ee=n(57),te=n.n(ee);n(125);te.a.accessToken="pk.eyJ1IjoidG9yc3RlaW4iLCJhIjoiY2s3YWJkdzk3MDU1bjNncnd0dWExN292YiJ9.te0K0gwI11dUd2qZs6FQ0g";var ne=function(e){var t=e.layers,n=(e.handleSelectedChange,e.addLayersToState),o=e.handleMetaChange,l=e.draw,i=Object(a.useState)(null),c=Object(s.a)(i,2),u=c[0],d=c[1],f=Object(a.useRef)(null),m=function(e){e.forEach((function(e){u.addSource(e.id,{type:"geojson",data:e}),u.addLayer({id:e.id,type:"fill",source:e.id,layout:{visibility:"visible"},paint:{"fill-color":e.color,"fill-opacity":.7,"fill-outline-color":e.color}})}))},h=function(e){e.forEach((function(e){u.removeLayer(e),u.removeSource(e)}))},g=function(e){return e.getStyle().layers.filter((function(e){return"composite"!==e.source&&"background"!==e.type&&"mapbox-gl-draw-cold"!==e.source&&"mapbox-gl-draw-hot"!==e.source})).map((function(e){return e.id}))},y=function(e){e.forEach((function(e){u.getLayoutProperty(e.id,"visibility")!==e.visibility&&u.setLayoutProperty(e.id,"visibility",e.visibility)}))},b=function(e){e.forEach((function(e){e.selected?u.setPaintProperty(e.id,"fill-outline-color","#000000"):u.setPaintProperty(e.id,"fill-outline-color",e.color)}))};return Object(a.useEffect)((function(){u||function(e,t){var a=new te.a.Map({container:t.current,style:"mapbox://styles/mapbox/streets-v11",center:[10.38,63.43],zoom:13});function r(e){var t=l.getAll();n([t],"drawTool"),l.deleteAll(),console.log(l)}a.on("load",(function(){e(a),a.addControl(l),a.on("draw.create",r),a.resize()})),a.on("click",(function(e){var t=a.queryRenderedFeatures(e.point,{layers:g(a)});t.length&&"draw_polygon"!==l.getMode()&&o(t.map((function(e){return e.layer.id}))[0],"selected")}))}(d,f)}),[u]),Object(a.useEffect)((function(){u&&function(e,t){var n=g(t),a=n.filter((function(t){return-1===e.map((function(e){return e.id})).indexOf(t)})),r=e.filter((function(e){return-1===n.indexOf(e.id)}));r[0]&&m(r),a[0]&&h(a),y(e),b(e)}(t,u),console.log("Map","Layers handled")}),[t]),r.a.createElement("div",{ref:function(e){return f.current=e},className:"mapContainer"})};var ae=n(90),re=n(185),oe=n(189),le=n(186),ie=n(190),ce=n(187),ue=n(191),se=n(188),de=n(58),fe=n.n(de),me=[{title:"Welcome",image:"polygon.png",detailed:'This is a webGis created in the course TBA4251 at NTNU. To get a quick overview of the different functionality this GIS has to offer, I have created this tutorial. You can show and hide it as you please by using the "HIDE TUTORIAL" button at the bottom. \n Follow along with the instructions, using the arrows to go forwards or backwards. Enjoy! '},{title:"Control Panel",image:"control_panel.png",detailed:'The main element of the app is the control panel in the top left corner. From this panel, you can add, remove, and manipulate layers in numerous ways. \n We will go through all the available functionality in this tutorial, but the functions themselves comes with a short tooltip if you hover over their "question mark" later on as well.'}],he=Object(V.a)((function(e){return{media:{height:0,paddingTop:"56.25%"},forward:{},backward:{transform:"rotate(-180deg)"},actions:{display:"flex",alignItems:"center",justifyContent:"space-between"}}}));var ge=function(){var e=he(),t=Object(a.useState)(0),o=Object(s.a)(t,2),l=o[0],i=o[1],c=Object(a.useState)(!1),u=Object(s.a)(c,2),d=u[0],f=u[1],m=function(){f(!d)};return d?r.a.createElement(re.a,{className:"tutorial"},r.a.createElement(le.a,{className:e.media,image:n(137)("./"+me[l].image)}),r.a.createElement(ce.a,{className:e.actions},r.a.createElement(se.a,{className:e.backward,onClick:function(){l-1>=0&&i(l-1)}},r.a.createElement(fe.a,null)),r.a.createElement(oe.a,{title:me[l].title,titleTypographyProps:{variant:"h6"}}),r.a.createElement(se.a,{className:e.forward,onClick:function(){l+1<me.length&&i(l+1)}},r.a.createElement(fe.a,null))),r.a.createElement(ie.a,null,r.a.createElement(Y.a,{variant:"body2",color:"textSecondary",component:"p"},me[l].detailed.split("\n").map((function(e,t){return r.a.createElement("p",{key:t},e)})))),r.a.createElement(ce.a,null,r.a.createElement(ue.a,{size:"small",color:"black",onClick:m},"Hide tutorial"))):r.a.createElement(re.a,{className:"showtutorial"},r.a.createElement(ue.a,{size:"large",onClick:m},"Show Tutorial"))},ye=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],l=n[1],f=Object(a.useState)(new ae.a({displayControlsDefault:!1,controls:{point:!1,line_string:!1,polygon:!1}})),m=Object(s.a)(f,2),h=m[0],g=m[1],y=function(e){return function(t,n){t.forEach((function(e){e.id=n+"_"+Math.random().toString(36).slice(2),e.name=n+"_"+Math.random().toString(36).slice(2),e.color=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}()})),e((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))}))}},b=function(e){return function(t,n,a){e(a||"selected"!==n?function(e){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},n,a)):e}))}:function(e){return e.map((function(e){return e.id===t?Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},n,!e.selected)):e}))})}};return r.a.createElement(d.a,{maxSnack:3},r.a.createElement("div",null,r.a.createElement($,{addLayersToState:y(l),removeLayersFromState:function(e){return function(){e([])}}(l),removeLayerFromState:function(e,t){return function(n){var a=t.filter((function(e){return e.id!==n}));e(a)}}(l,o),layers:o,handleMetaChange:b(l),setDraw:g}),r.a.createElement(ne,{layers:o,addLayersToState:y(l),handleMetaChange:b(l),draw:h}),r.a.createElement(ge,null)))};l.a.render(r.a.createElement(ye,null),document.getElementById("app"))},98:function(e,t,n){e.exports=n(140)}},[[98,1,2]]]);
//# sourceMappingURL=main.71212eaa.chunk.js.map